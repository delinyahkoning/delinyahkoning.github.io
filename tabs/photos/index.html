<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Delinyah Koning ‚Äî Photos</title>
  <meta name="description" content="Photography and video work." />

  <!-- Shared Styles -->
  <link rel="stylesheet" href="/css/base.css" />
  <link rel="stylesheet" href="/css/layout.css" />
  <link rel="stylesheet" href="/css/lightbox.css" />
  <link rel="stylesheet" href="/css/cursor.css" />
  <link rel="stylesheet" href="/css/switch.css" />

  <!-- Masonry + OVERRIDES to neutralize global .thumb rules -->
  <style>
    /* Masonry columns (variable heights) */
    .gallery { column-gap: 16px; }
    @media (min-width:480px){ .gallery { column-count: 2; } }
    @media (min-width:860px){ .gallery { column-count: 3; } }
    @media (min-width:1180px){ .gallery { column-count: 4; } }

    .item{
      break-inside: avoid;
      -webkit-column-break-inside: avoid;
      margin: 0 0 16px;
      background: #0d0f16;
      border: 1px solid #232634;
      border-radius: 14px;
      overflow: hidden;
    }

    /* === CRITICAL OVERRIDES FOR PHOTOS ===
       Kill the global 16:9 & height:100% so images use natural height.
       Also remove inner rounding to avoid the visible dark strip. */
    .gallery .thumb{
      position: relative;
      cursor: pointer;
      padding: 0;
      background: transparent;
      aspect-ratio: auto !important;
      height: auto !important;
    }
    .gallery .thumb img,
    .gallery .thumb video{
      display: block;
      width: 100%;
      height: auto !important;
      object-fit: contain !important; /* show whole photo */
      border-radius: 0 !important;    /* no inner curve gap */
      transition: transform .25s ease, box-shadow .25s ease;
    }
    .gallery .thumb:hover img{ transform: scale(1.03); }

    /* Hover action button (kept for consistency; opens lightbox) */
    .gallery .fs-btn{
      position: absolute; top: 8px; right: 8px; z-index: 2;
      padding: 6px 8px; font-size: 14px; line-height: 1; border-radius: 8px;
      background: rgba(0,0,0,.45); color: #fff; border: 1px solid rgba(255,255,255,.25);
      opacity: 0; transition: opacity .2s ease; user-select: none;
    }
    .gallery .thumb:hover .fs-btn{ opacity: 1; }
  </style>
</head>
<body>
  <header>
    <div class="wrap nav">
      <div class="brand">Delinyah Koning</div><div class="spacer"></div>
      <nav class="tabs">
        <a class="tab" href="/">Home</a>
        <a class="tab" href="/tabs/3d/">3D</a>
        <a class="tab" href="/tabs/2d/">2D</a>
        <a class="tab" href="/tabs/design/">Design</a>
        <a class="tab active" href="/tabs/photos/">Photos</a>

        <!-- Tri-position cursor switch -->
        <div class="tri-switch-wrap">
          <button id="cursorSwitch"
                  class="tri-switch"
                  type="button"
                  role="switch"
                  aria-label="Cursor mode"
                  aria-live="polite"
                  data-state="dot"
                  title="Click or press ‚Üê/‚Üí to change">
            <div class="tri-switch__knob" aria-hidden="true"></div>
            <div class="tri-switch__labels" aria-hidden="true">
              <span>‚óè</span>
              <span>ü™ê</span>
              <span>‚åñ</span>
            </div>
          </button>
        </div>
      </nav>
    </div>
  </header>

  <section class="hero" style="padding:60px 0 30px; text-align:center;">
    <div class="wrap">
      <h1 style="font-size:clamp(32px,5vw,54px);margin:0;">Photos</h1>
      <p class="sub" style="color:var(--muted);">Fragments, stories, reflections.</p>
    </div>
  </section>

  <section>
    <div class="wrap">
      <div id="gallery" class="gallery"></div>
    </div>
  </section>

  <!-- Lightbox (same component as homepage) -->
  <div id="lightbox" class="lightbox" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="lightbox__frame" role="document">
      <button class="lightbox__close" type="button" aria-label="Close">
        <span aria-hidden="true">‚úï</span><span class="lightbox__sr">Close</span>
      </button>
      <div id="lightboxMediaSlot"></div>
    </div>
  </div>

  <!-- Cursor scaffolding -->
  <div class="cursor cursor--dot" aria-hidden="true"><span class="dot"></span></div>
  <div class="cursor cursor--solar" aria-hidden="true">
    <span class="cursor__sun"></span>
    <span class="orbit orbit--mercury"><span class="track"><span class="planet"></span></span></span>
    <span class="orbit orbit--venus"><span class="track"><span class="planet"></span></span></span>
    <span class="orbit orbit--earth"><span class="track"><span class="planet"><span class="moon-track"><span class="moon"></span></span></span></span></span>
    <span class="orbit orbit--mars"><span class="track"><span class="planet"></span></span></span>
    <span class="orbit orbit--jupiter"><span class="track"><span class="planet"></span></span></span>
    <span class="orbit orbit--saturn"><span class="track"><span class="planet"></span></span></span>
    <span class="orbit orbit--uranus"><span class="track"><span class="planet"></span></span></span>
    <span class="orbit orbit--neptune"><span class="track"><span class="planet"></span></span></span>
  </div>

  <!-- Shared Scripts -->
  <script type="module" src="/js/config.js"></script>
  <script type="module" src="/js/lightbox.js"></script>
  <script type="module" src="/js/cursor.js"></script>
  <script type="module" src="/js/switch.js"></script>
  <script type="module" src="/js/main.js"></script>

  <!-- Build the randomized masonry gallery; thumbs open in lightbox -->
  <script>
    // Image list (case-sensitive)
    const files = [
      "IMG_0243.JPG","IMG_7454.jpg","IMG_7453.jpg","IMG_7624.jpg","IMG_7640.jpg",
      "IMG_8062.jpg","IMG_8098.jpg","IMG_8074.jpg","IMG_6604.jpg","IMG_6595.jpg",
      "IMG_6862.jpg","IMG_7027.jpg","IMG_7061.jpg","IMG_7073.jpg","IMG_1849.JPG",
      "IMG_2179.JPG","IMG_1963.png","melkweg.png"
    ];

    // Shuffle (Fisher‚ÄìYates)
    for (let i = files.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [files[i], files[j]] = [files[j], files[i]];
    }

    const gallery = document.getElementById('gallery');

    files.forEach(name => {
      const fig = document.createElement('figure');
      fig.className = 'item';

      const thumb = document.createElement('div');
      thumb.className = 'thumb';
      thumb.setAttribute('data-lightbox', ''); // enable homepage lightbox

      const btn = document.createElement('button');
      btn.className = 'fs-btn';
      btn.type='button';
      btn.textContent='‚§¢';

      const img = document.createElement('img');
      img.loading='lazy';
      img.src = `/assets/${name}`;
      img.alt = name;

      thumb.appendChild(btn);
      thumb.appendChild(img);
      fig.appendChild(thumb);
      gallery.appendChild(fig);
    });
  </script>
</body>
</html>
