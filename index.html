<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Delinyah Koning — Home</title>
<meta name="description" content="Portfolio — 3D, 2D, Design, Photo." />
<style>
  :root{--bg:#0a0b0f;--ink:#e9ecf5;--muted:#9aa0b3;--panel:#10121a;--accent:#9bd4ff;--radius:18px;--max:1200px}
  html{scroll-behavior:smooth} body{margin:0;background:var(--bg);color:var(--ink);font:16px/1.6 Arial,Helvetica,sans-serif}
  .wrap{max-width:var(--max);margin:0 auto;padding:0 24px}
  header{position:sticky;top:0;z-index:50;background:rgba(7,8,12,.5);backdrop-filter:saturate(140%) blur(10px);border-bottom:1px solid rgba(255,255,255,.06)}
  .nav{display:flex;align-items:center;gap:16px;padding:14px 0}.brand{font-weight:700}.spacer{flex:1}
  .tabs{display:flex;gap:10px;flex-wrap:wrap}.tab{padding:8px 12px;border:1px solid rgba(255,255,255,.08);border-radius:999px;text-decoration:none;color:var(--ink)}
  .tab:hover{background:#131623}.tab.active{background:#131623;border-color:#4e6ca0;box-shadow:0 0 0 3px rgba(155,212,255,.25)}
  .hero{min-height:58vh;display:grid;place-items:center;background:
    radial-gradient(1200px 600px at 80% -10%,rgba(155,212,255,.05),transparent 60%),
    radial-gradient(900px 700px at -10% 20%,rgba(155,212,255,.04),transparent 50%),
    var(--bg)}
  section{padding:60px 0}
  .panel{background:var(--panel);border:1px solid rgba(255,255,255,.08);border-radius:var(--radius);padding:24px}
  .grid{display:grid;gap:16px}.cards{grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
  .card{border-radius:14px;background:#0d0f16;border:1px solid #232634;padding:14px}
  .thumb{aspect-ratio:16/9;background:#151826;border-radius:12px;margin-bottom:10px;display:grid;place-items:center;color:#556}
  footer{padding:50px 0;color:var(--muted);text-align:center}

  /* === Hero text (SVG) === */
  .hero-center{ text-align:center }
  .hero-svg{ display:inline-block; width:min(92vw,1000px); height:auto }
  .hero-sub{ color:var(--muted); max-width:760px; margin:12px auto 0 }

  /* RGB split amount set in JS */
  .split-r{ fill:#ff2a6d; mix-blend-mode:screen; opacity:.85 }
  .split-g{ fill:#2aff79; mix-blend-mode:screen; opacity:.9 }
  .split-b{ fill:#2ac8ff; mix-blend-mode:screen; opacity:.9 }

  /* === Custom Cursor (keeps native pointer) === */
  .cursor{
    position:fixed;top:0;left:0;width:22px;height:22px;border-radius:50%;
    pointer-events:none;background:rgba(155,212,255,.15);
    border:1px solid rgba(155,212,255,.4);transform:translate(-50%,-50%);
    transition:width .15s,height .15s,background .2s;z-index:9999;
  }
</style>
</head>
<body>
<header>
  <div class="wrap nav">
    <div class="brand">Delinyah Koning</div><div class="spacer"></div>
    <nav class="tabs">
      <a class="tab active" href="/">Home</a>
      <a class="tab" href="/3d/">3D</a>
      <a class="tab" href="/2d/">2D</a>
      <a class="tab" href="/design/">Design</a>
      <a class="tab" href="/photo/">Photo</a>
    </nav>
  </div>
</header>

<section class="hero">
  <div class="wrap hero-center">
    <!-- The text lives entirely inside this SVG, so the filter can't clip against the page box -->
    <svg id="heroSVG" class="hero-svg" viewBox="0 0 1200 360" preserveAspectRatio="xMidYMid meet">
      <defs>
        <!-- Filter region expanded well beyond text bounds to prevent any cutoff -->
        <filter id="rippleFilter" x="-40%" y="-120%" width="180%" height="300%" filterUnits="objectBoundingBox">
          <!-- This <feImage> receives a dataURL from an offscreen canvas (normal map) every frame -->
          <feImage id="nm" x="0" y="0" width="1200" height="360" preserveAspectRatio="none" result="map"/>
          <feGaussianBlur in="map" stdDeviation="12" edgeMode="duplicate" result="blur"/>
          <!-- Displace the glyphs using the normal map. R->X, G->Y -->
          <feDisplacementMap id="dm" in="SourceGraphic" in2="blur" scale="0"
                             xChannelSelector="R" yChannelSelector="G" />
        </filter>
      </defs>

      <!-- Base (white) + three RGB splits, all filtered (warp happens per-glyph) -->
      <g filter="url(#rippleFilter)">
        <text id="t-base" x="40" y="150" font-family="Arial, Helvetica, sans-serif"
              font-size="86" font-weight="700" fill="var(--ink)">
          Cinematic visuals,
        </text>
        <text id="t-base-2" x="40" y="250" font-family="Arial, Helvetica, sans-serif"
              font-size="86" font-weight="700" fill="var(--ink)">
          science-minded design.
        </text>

        <!-- RGB copies (subtle, follows velocity) -->
        <g id="rgb">
          <text x="40" y="150" font-family="Arial, Helvetica, sans-serif" font-size="86" font-weight="700" class="split-r">Cinematic visuals,</text>
          <text x="40" y="250" font-family="Arial, Helvetica, sans-serif" font-size="86" font-weight="700" class="split-r">science-minded design.</text>

          <text x="40" y="150" font-family="Arial, Helvetica, sans-serif" font-size="86" font-weight="700" class="split-g">Cinematic visuals,</text>
          <text x="40" y="250" font-family="Arial, Helvetica, sans-serif" font-size="86" font-weight="700" class="split-g">science-minded design.</text>

          <text x="40" y="150" font-family="Arial, Helvetica, sans-serif" font-size="86" font-weight="700" class="split-b">Cinematic visuals,</text>
          <text x="40" y="250" font-family="Arial, Helvetica, sans-serif" font-size="86" font-weight="700" class="split-b">science-minded design.</text>
        </g>
      </g>
    </svg>

    <p class="hero-sub">3D scenes, 2D motion & illustration, identity systems, photography.</p>
  </div>
</section>

<section>
  <div class="wrap" style="display:grid;gap:20px;grid-template-columns:1.2fr .8fr">
    <div class="panel">
      <h2 style="margin-top:0">Featured Work</h2>
      <div class="grid cards" style="margin-top:12px">
        <article class="card"><div class="thumb">assets/feat-1.mp4</div><strong>Lookdev Shot</strong><div class="sub" style="font-size:13px">Blender · 2025</div></article>
        <article class="card"><div class="thumb">assets/feat-2.jpg</div><strong>Science Illustration</strong><div class="sub" style="font-size:13px">Vectors · 2025</div></article>
        <article class="card"><div class="thumb">assets/feat-3.mp4</div><strong>Explainer Motion</strong><div class="sub" style="font-size:13px">AE · 30s</div></article>
      </div>
    </div>
    <aside class="panel">
      <h2 style="margin-top:0">About</h2>
      <p class="sub">Biomedical research background × creative direction. I build clear, cinematic visuals for science, culture, and brands.</p>
      <p><a class="tab" href="assets/Delinyah-Koning-Resume.pdf" target="_blank" style="display:inline-block">Resume (PDF)</a></p>
      <p><a class="tab" href="mailto:you@example.com">you@example.com</a></p>
    </aside>
  </div>
</section>

<footer>© <span id="y"></span> Delinyah Koning</footer>

<div class="cursor"></div>

<script>
  // Year
  document.getElementById('y').textContent=new Date().getFullYear();

  // Custom cursor
  const cursor=document.querySelector(".cursor");
  document.addEventListener("mousemove",e=>{cursor.style.top=e.clientY+"px";cursor.style.left=e.clientX+"px";});
  document.querySelectorAll("a,button").forEach(el=>{
    el.addEventListener("mouseenter",()=>{cursor.style.width="36px";cursor.style.height="36px";cursor.style.background="rgba(155,212,255,.25)";});
    el.addEventListener("mouseleave",()=>{cursor.style.width="22px";cursor.style.height="22px";cursor.style.background="rgba(155,212,255,.15)";});
  });

  // === Ripple text: per-pixel normal map driven by cursor velocity ===
  (function(){
    const svg  = document.getElementById('heroSVG');
    const nmEl = document.getElementById('nm');    // <feImage>
    const dmEl = document.getElementById('dm');    // <feDisplacementMap>
    const rgb  = document.getElementById('rgb');

    // Offscreen canvas that encodes a normal map: R = X push, G = Y push (0..255 with 128 = no move)
    const cv = document.createElement('canvas');
    const ctx = cv.getContext('2d');
    const DPR = Math.max(1, Math.min(2, window.devicePixelRatio || 1));

    function sizeCanvas(){
      const {width, height} = svg.viewBox.baseVal;
      cv.width  = Math.round(width * DPR);
      cv.height = Math.round(height * DPR);
    }
    sizeCanvas();

    // Cursor state
    let mouseX = 600, mouseY = 180;
    let vx = 0, vy = 0;            // velocity
    let lastX = mouseX, lastY = mouseY;
    let power = 0, target = 0;     // displacement strength
    let split = 0;                 // rgb offset
    const radius = 140;            // px influence radius in viewBox units
    const strength = 48;           // max displacement px
    const splitMax = 3.2;          // prism max px

    function onMove(e){
      const bbox = svg.getBoundingClientRect();
      const x = (e.clientX - bbox.left) / bbox.width  * 1200; // map to viewBox
      const y = (e.clientY - bbox.top)  / bbox.height * 360;
      vx = x - lastX; vy = y - lastY;
      lastX = mouseX = x;
      lastY = mouseY = y;
      target = strength;
    }
    svg.addEventListener('mousemove', onMove);
    svg.addEventListener('mouseenter', ()=>{ target = strength; });
    svg.addEventListener('mouseleave', ()=>{ target = 0; });

    function drawNormalMap(){
      const w = cv.width, h = cv.height;
      const s = 1200, t = 360; // viewBox
      const scaleX = w / s, scaleY = h / t;

      // base neutral (128,128,0)
      ctx.clearRect(0,0,w,h);
      ctx.fillStyle = 'rgb(128,128,0)';
      ctx.fillRect(0,0,w,h);

      // directional falloff from cursor with velocity bias
      const cx = mouseX * scaleX;
      const cy = mouseY * scaleY;
      const rad = radius * ((scaleX + scaleY)/2);

      // draw multiple rings to get that "balloon/ripple" feeling
      const layers = 3;
      for (let i=0;i<layers;i++){
        const r = rad * (1 + i*0.22);
        const amp = (power / strength) * (1 - i*0.28);

        // direction unit vector from velocity (fall back to last dir)
        const len = Math.hypot(vx,vy) || 1;
        const ux = vx/len, uy = vy/len;

        // encode displacement in R/G around the blob, signed via cos/sin around cursor
        const grd = ctx.createRadialGradient(cx,cy,0,cx,cy,r);
        // center push
        const pushX = 128 + (ux * 80 * amp); // 80 is channel intensity range
        const pushY = 128 + (uy * 80 * amp);

        grd.addColorStop(0, `rgb(${pushX},${pushY},0)`);
        grd.addColorStop(0.5, `rgb(128,128,0)`);
        grd.addColorStop(1,   `rgb(128,128,0)`);

        ctx.fillStyle = grd;
        ctx.beginPath();
        ctx.arc(cx,cy,r,0,Math.PI*2);
        ctx.fill();
      }

      // upload to filter as dataURL (fast enough at this size)
      nmEl.setAttribute('href', cv.toDataURL('image/png'));
    }

    function tick(){
      // ease displacement & rgb split
      power += (target - power) * 0.14;
      if (Math.abs(target - power) < 0.01) power = target;
      dmEl.setAttribute('scale', power.toFixed(2));

      const targetSplit = (power/strength) * splitMax;
      split += (targetSplit - split) * 0.2;

      // nudge RGB copies opposite to velocity for prism effect (tiny, no layout shift)
      const mag = Math.min(1, Math.hypot(vx,vy)/24);
      const ox = (vx? vx/Math.abs(vx) : 0) * split * mag;
      const oy = (vy? vy/Math.abs(vy) : 0) * split * mag;
      const [r,g,b] = rgb.children;
      // R
      rgb.children[0].setAttribute('transform', `translate(${-ox},${-oy})`);
      rgb.children[1].setAttribute('transform', `translate(${-ox},${-oy})`);
      // G
      rgb.children[2].setAttribute('transform', `translate(${ox*0.6},${oy*0.6})`);
      rgb.children[3].setAttribute('transform', `translate(${ox*0.6},${oy*0.6})`);
      // B
      rgb.children[4].setAttribute('transform', `translate(${ox*1.1},${oy*1.1})`);
      rgb.children[5].setAttribute('transform', `translate(${ox*1.1},${oy*1.1})`);

      drawNormalMap();

      // slight velocity decay
      vx *= 0.85; vy *= 0.85;

      requestAnimationFrame(tick);
    }
    tick();

    // keep canvas resolution in sync on resize / DPR changes
    let dpr = DPR;
    const resize = () => {
      const newDpr = Math.max(1, Math.min(2, window.devicePixelRatio||1));
      if (newDpr !== dpr){ dpr = newDpr; }
      sizeCanvas();
      // also update feImage size to match SVG viewBox
      nmEl.setAttribute('width', '1200');
      nmEl.setAttribute('height', '360');
    };
    window.addEventListener('resize', resize);
  })();
</script>
</body>
</html>
