/* Tri-position switch — “light switch” aesthetic */
.tri-switch-wrap{
  display:inline-flex;
  align-items:center;
  margin-left:12px;
}

/* Track with subtle metal/plastic finish */
.tri-switch{
  --sw-h: 34px;
  --sw-p: 4px;         /* inner padding */
  --sw-gap: 4px;       /* gap between knob and walls */
  --sw-radius: 999px;

  --sw-bg: linear-gradient(to bottom, rgba(255,255,255,.10), rgba(255,255,255,.04));
  --sw-wall: rgba(255,255,255,.10);
  --sw-shadow: 0 2px 10px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.08), inset 0 -1px 0 rgba(0,0,0,.25);

  position: relative;
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  align-items: center;
  height: var(--sw-h);
  min-width: 132px;
  padding: var(--sw-p);
  border-radius: var(--sw-radius);
  border: 1px solid var(--sw-wall);
  background: var(--sw-bg);
  box-shadow: var(--sw-shadow);
  cursor: pointer;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

/* Labels (● 🪐 ⌖) */
.tri-switch__labels{
  position: relative;
  z-index: 2;
  display: contents; /* keep grid layout, no extra box */
}
.tri-switch__labels span{
  text-align: center;
  font-size: 14px;
  line-height: 1;
  color: rgba(255,255,255,.70);
  letter-spacing: .02em;
  padding: 0 2px;
}

/* Highlight the active label */
.tri-switch[data-state="dot"]      .tri-switch__labels span:nth-child(1),
.tri-switch[data-state="solar"]    .tri-switch__labels span:nth-child(2),
.tri-switch[data-state="crosshair"].tri-switch__labels span:nth-child(3){ color:#fff; }

/* Sliding rocker knob */
.tri-switch__knob{
  --knob-w: calc((100% - var(--sw-p)*2) / 3 - var(--sw-gap));
  position: absolute;
  top: var(--sw-p);
  left: var(--sw-p);
  width: var(--knob-w);
  height: calc(100% - var(--sw-p)*2);
  border-radius: calc(var(--sw-radius) - 2px);
  background:
    radial-gradient(120% 100% at 50% -30%, rgba(255,255,255,.30), rgba(255,255,255,0) 60%),
    linear-gradient(to bottom, rgba(255,255,255,.18), rgba(255,255,255,.06));
  border: 1px solid rgba(255,255,255,.18);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.25),
    inset 0 -1px 0 rgba(0,0,0,.35),
    0 6px 14px rgba(0,0,0,.35);
  transform: translateX(var(--x, 0%));
  transition: transform .22s cubic-bezier(.2,.8,.2,1), box-shadow .22s ease;
  will-change: transform;
}

/* Little ridge for tactile feel */
.tri-switch__knob::after{
  content:"";
  position:absolute;
  left: 10%;
  right: 10%;
  top: 50%;
  height: 2px;
  transform: translateY(-50%);
  border-radius: 2px;
  background: rgba(0,0,0,.35);
  box-shadow: 0 1px 0 rgba(255,255,255,.25) inset;
  opacity: .55;
}

/* State -> knob position (0%, 100%, 200%) */
.tri-switch[data-state="dot"]       { --x: 0%; }
.tri-switch[data-state="solar"]     { --x: 100%; }
.tri-switch[data-state="crosshair"] { --x: 200%; }

/* Focus (keyboard) */
.tri-switch:focus-visible{
  outline: none;
  box-shadow:
    0 0 0 2px rgba(255,245,180,.45),
    var(--sw-shadow);
}

/* Pressed */
.tri-switch:active .tri-switch__knob{
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.15),
    inset 0 -1px 0 rgba(0,0,0,.45),
    0 3px 10px rgba(0,0,0,.35);
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  .tri-switch__knob{ transition: none; }
}
