/* === 3-way switch (no plate) ‚Äî dot | solar | native === */

.tri-switch-wrap{
  display:inline-flex;
  align-items:center;
}

/* Track */
.tri-switch{
  /* sizing */
  --h: 34px;
  --pad: 6px;            /* inner padding */
  --lever-w: 28px;       /* handle width */
  --lever-h: 22px;       /* handle height (a bit smaller than track) */

  position: relative;
  height: var(--h);
  min-width: 150px;
  padding: var(--pad);
  border-radius: 999px;

  /* subtle dark frosted pill */
  background:
    linear-gradient(to bottom, rgba(255,255,255,.10), rgba(255,255,255,.04));
  border: 1px solid rgba(255,255,255,.14);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.10),
    inset 0 -1px 0 rgba(0,0,0,.35),
    0 8px 18px rgba(0,0,0,.30);

  display: grid;
  grid-template-columns: 1fr 1fr 1fr; /* positions */
  align-items: center;
  gap: 0;
  cursor: pointer;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  color: #cfd6ec;
}

/* Icons (‚óè ü™ê ‚åñ) overlayed on top of the track */
.tri-switch__labels{
  position:absolute;
  inset: var(--pad);
  display:grid;
  grid-template-columns: inherit;
  align-items:center;
  pointer-events:none;
  font-size: 12px;
  letter-spacing: .02em;
  color: rgba(255,255,255,.60);
}
.tri-switch__labels span{
  text-align:center;
  text-shadow: 0 1px 0 rgba(0,0,0,.5);
}

/* Highlight current icon slightly */
.tri-switch[data-state="dot"]    .tri-switch__labels span:nth-child(1),
.tri-switch[data-state="solar"]  .tri-switch__labels span:nth-child(2),
.tri-switch[data-state="native"] .tri-switch__labels span:nth-child(3){
  color: rgba(255,255,255,.95);
}

/* Lever ‚Äî slightly rounded, small bevel */
.tri-switch__knob{
  position:absolute;
  top: 50%;
  left: var(--pad);
  transform: translateY(-50%);
  width: var(--lever-w);
  height: var(--lever-h);
  border-radius: 6px; /* <‚Äî slightly rounded */
  background:
    linear-gradient(to bottom, rgba(255,255,255,.85), rgba(230,235,245,.88) 45%, rgba(205,210,220,.9)),
    linear-gradient(to bottom, rgba(0,0,0,.14), rgba(0,0,0,0));
  border: 1px solid rgba(0,0,0,.45);
  box-shadow:
    0 2px 10px rgba(0,0,0,.45),
    inset 0 1px 0 rgba(255,255,255,.55),
    inset 0 -1px 0 rgba(0,0,0,.35);
  will-change: left;
  transition: left .22s cubic-bezier(.2,.8,.2,1);
}

/* Tiny ridge to feel tactile */
.tri-switch__knob::after{
  content:"";
  position:absolute;
  left: 5px; right: 5px; top: 50%;
  height: 2px; transform: translateY(-50%);
  border-radius: 2px;
  background: rgba(0,0,0,.35);
  box-shadow: 0 1px 0 rgba(255,255,255,.5) inset;
  opacity: .65;
}

/* Compute travel and snap positions */
.tri-switch{
  --travel: calc(100% - var(--pad)*2 - var(--lever-w));
  --step: 0;
}
.tri-switch[data-state="dot"]    { --step: 0; }
.tri-switch[data-state="solar"]  { --step: .5; }
.tri-switch[data-state="native"] { --step: 1; }
.tri-switch__knob{
  left: calc(var(--pad) + var(--travel) * var(--step));
}

/* Focus ring (keyboard) */
.tri-switch:focus-visible{
  outline: 2px solid rgba(255,245,180,.45);
  outline-offset: 3px;
}

/* Pressed feel */
.tri-switch:active .tri-switch__knob{
  box-shadow:
    0 1px 8px rgba(0,0,0,.45),
    inset 0 1px 0 rgba(255,255,255,.45),
    inset 0 -1px 0 rgba(0,0,0,.45);
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  .tri-switch__knob{ transition: none; }
}
